<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="com.tbot.ruler.broker.MessagePublishBrokerTest" tests="5" skipped="0" failures="0" errors="0" timestamp="2023-11-04T22:07:23" hostname="Robert-Poskrobek-CY2F4TQX5G.local" time="0.041">
  <properties/>
  <testcase name="publicationReportWhenSenderSuspended()" classname="com.tbot.ruler.broker.MessagePublishBrokerTest" time="0.014"/>
  <testcase name="publicationReportPartiallyFailedWhenSomeReceiversFail()" classname="com.tbot.ruler.broker.MessagePublishBrokerTest" time="0.017"/>
  <testcase name="successfullyPublishesEnqueuedMessage()" classname="com.tbot.ruler.broker.MessagePublishBrokerTest" time="0.003"/>
  <testcase name="publicationReportWhenNoReceiversFound()" classname="com.tbot.ruler.broker.MessagePublishBrokerTest" time="0.002"/>
  <testcase name="publicationReportFailedWhenAllReceiversFail()" classname="com.tbot.ruler.broker.MessagePublishBrokerTest" time="0.003"/>
  <system-out><![CDATA[2023-11-04 23:07:23,925  INFO .tbot.ruler.broker.MessageQueueComponent:  22 - Message queue length set to 2
2023-11-04 23:07:23,927  INFO m.tbot.ruler.broker.MessagePublishBroker:  51 - Dispatch from mocked-sender-id: Suspended
2023-11-04 23:07:23,927 ERROR m.tbot.ruler.broker.MessagePublishBroker:  41 - Dispatch interrupted by unexpected internal error
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1638)
	at java.base/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
	at com.tbot.ruler.broker.MessageQueueComponent.nextMessage(MessageQueueComponent.java:39)
	at com.tbot.ruler.broker.MessagePublishBroker.run(MessagePublishBroker.java:37)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-11-04 23:07:23,929  INFO .tbot.ruler.broker.MessageQueueComponent:  22 - Message queue length set to 2
2023-11-04 23:07:23,943  INFO m.tbot.ruler.broker.MessagePublishBroker:  59 - Dispatch from mocked-sender-id: Delivering to receiver-1
2023-11-04 23:07:23,943  INFO m.tbot.ruler.broker.MessagePublishBroker:  59 - Dispatch from mocked-sender-id: Delivering to receiver-2
2023-11-04 23:07:23,944 ERROR m.tbot.ruler.broker.MessagePublishBroker:  64 - Dispatch from mocked-sender-id: Failed to deliver to receiver-2
com.tbot.ruler.exceptions.MessageException: terefere
	at com.tbot.ruler.broker.MessagePublishBroker.deliverMessage(MessagePublishBroker.java:82)
	at com.tbot.ruler.broker.MessagePublishBroker.lambda$dispatchMessage$0(MessagePublishBroker.java:60)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at com.tbot.ruler.broker.MessagePublishBroker.dispatchMessage(MessagePublishBroker.java:57)
	at com.tbot.ruler.broker.MessagePublishBroker.run(MessagePublishBroker.java:38)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-11-04 23:07:23,944 ERROR m.tbot.ruler.broker.MessagePublishBroker:  41 - Dispatch interrupted by unexpected internal error
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1638)
	at java.base/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
	at com.tbot.ruler.broker.MessageQueueComponent.nextMessage(MessageQueueComponent.java:39)
	at com.tbot.ruler.broker.MessagePublishBroker.run(MessagePublishBroker.java:37)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-11-04 23:07:23,946  INFO .tbot.ruler.broker.MessageQueueComponent:  22 - Message queue length set to 2
2023-11-04 23:07:23,947  INFO m.tbot.ruler.broker.MessagePublishBroker:  59 - Dispatch from mocked-sender-id: Delivering to receiver-1
2023-11-04 23:07:23,947  INFO m.tbot.ruler.broker.MessagePublishBroker:  59 - Dispatch from mocked-sender-id: Delivering to receiver-2
2023-11-04 23:07:23,948 ERROR m.tbot.ruler.broker.MessagePublishBroker:  41 - Dispatch interrupted by unexpected internal error
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1638)
	at java.base/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
	at com.tbot.ruler.broker.MessageQueueComponent.nextMessage(MessageQueueComponent.java:39)
	at com.tbot.ruler.broker.MessagePublishBroker.run(MessagePublishBroker.java:37)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-11-04 23:07:23,950  INFO .tbot.ruler.broker.MessageQueueComponent:  22 - Message queue length set to 2
2023-11-04 23:07:23,951  WARN m.tbot.ruler.broker.MessagePublishBroker:  54 - Dispatch from mocked-sender-id: No bindings found
2023-11-04 23:07:23,951 ERROR m.tbot.ruler.broker.MessagePublishBroker:  41 - Dispatch interrupted by unexpected internal error
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1638)
	at java.base/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
	at com.tbot.ruler.broker.MessageQueueComponent.nextMessage(MessageQueueComponent.java:39)
	at com.tbot.ruler.broker.MessagePublishBroker.run(MessagePublishBroker.java:37)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-11-04 23:07:23,952  INFO .tbot.ruler.broker.MessageQueueComponent:  22 - Message queue length set to 2
2023-11-04 23:07:23,953  INFO m.tbot.ruler.broker.MessagePublishBroker:  59 - Dispatch from mocked-sender-id: Delivering to receiver-1
2023-11-04 23:07:23,953 ERROR m.tbot.ruler.broker.MessagePublishBroker:  64 - Dispatch from mocked-sender-id: Failed to deliver to receiver-1
com.tbot.ruler.exceptions.MessageException: terefere
	at com.tbot.ruler.broker.MessagePublishBroker.deliverMessage(MessagePublishBroker.java:82)
	at com.tbot.ruler.broker.MessagePublishBroker.lambda$dispatchMessage$0(MessagePublishBroker.java:60)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at com.tbot.ruler.broker.MessagePublishBroker.dispatchMessage(MessagePublishBroker.java:57)
	at com.tbot.ruler.broker.MessagePublishBroker.run(MessagePublishBroker.java:38)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-11-04 23:07:23,954  INFO m.tbot.ruler.broker.MessagePublishBroker:  59 - Dispatch from mocked-sender-id: Delivering to receiver-2
2023-11-04 23:07:23,954 ERROR m.tbot.ruler.broker.MessagePublishBroker:  64 - Dispatch from mocked-sender-id: Failed to deliver to receiver-2
com.tbot.ruler.exceptions.MessageException: terefere
	at com.tbot.ruler.broker.MessagePublishBroker.deliverMessage(MessagePublishBroker.java:82)
	at com.tbot.ruler.broker.MessagePublishBroker.lambda$dispatchMessage$0(MessagePublishBroker.java:60)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at com.tbot.ruler.broker.MessagePublishBroker.dispatchMessage(MessagePublishBroker.java:57)
	at com.tbot.ruler.broker.MessagePublishBroker.run(MessagePublishBroker.java:38)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-11-04 23:07:23,954 ERROR m.tbot.ruler.broker.MessagePublishBroker:  41 - Dispatch interrupted by unexpected internal error
java.lang.InterruptedException: null
	at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1638)
	at java.base/java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:435)
	at com.tbot.ruler.broker.MessageQueueComponent.nextMessage(MessageQueueComponent.java:39)
	at com.tbot.ruler.broker.MessagePublishBroker.run(MessagePublishBroker.java:37)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
